(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{2716:function(e,n,a){Promise.resolve().then(a.bind(a,8797))},8797:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return s}});var t=a(3827),o=a(4090);function s(){let[e,n]=(0,o.useState)({name:"",phone:"",email:"",county:"",region:"",gender:"",crops:"",livestock:"",acreage:"",recordKeeping:"",insuranceProducts:"",monthlyIncome:"",additionalNotes:""}),[a,s]=(0,o.useState)(null),[r,i]=(0,o.useState)(!1),l=e=>{n(n=>({...n,[e.target.name]:e.target.value}))},c=async a=>{a.preventDefault(),i(!0),s(null);try{let a={...e,crops:e.crops.split(",").map(e=>e.trim()),livestock:e.livestock.split(",").map(e=>e.trim())},t=await fetch("/api/farmers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o=await t.json();if(!t.ok)throw Error(o.error||"Failed to submit form");t.ok&&s({type:"success",message:"Farmer Registered Successfully!"}),n({name:"",phone:"",email:"",county:"",region:"",gender:"",crops:"",livestock:"",acreage:"",recordKeeping:"",insuranceProducts:"",monthlyIncome:"",additionalNotes:""})}catch(e){s({type:"error",message:e.message})}finally{i(!1)}};return(0,t.jsxs)("div",{className:"max-w-xl mx-auto p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Register Farmer"}),(0,t.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,t.jsx)("input",{name:"name",value:e.name,onChange:l,placeholder:"Name",className:"input",required:!0}),(0,t.jsx)("input",{name:"phone",value:e.phone,onChange:l,placeholder:"Phone",className:"input",required:!0}),(0,t.jsx)("input",{name:"email",value:e.email,onChange:l,placeholder:"Email",className:"input"}),(0,t.jsx)("input",{name:"county",value:e.county,onChange:l,placeholder:"County",className:"input"}),(0,t.jsx)("input",{name:"region",value:e.region,onChange:l,placeholder:"Region",className:"input"}),(0,t.jsxs)("select",{name:"gender",value:e.gender,onChange:l,className:"input",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Gender"}),(0,t.jsx)("option",{children:"Male"}),(0,t.jsx)("option",{children:"Female"}),(0,t.jsx)("option",{children:"Other"})]}),(0,t.jsx)("input",{name:"crops",value:e.crops,onChange:l,placeholder:"Crops (comma separated)",className:"input"}),(0,t.jsx)("input",{name:"livestock",value:e.livestock,onChange:l,placeholder:"Livestock (comma separated)",className:"input"}),(0,t.jsx)("input",{name:"acreage",value:e.acreage,onChange:l,placeholder:"Acreage",className:"input"}),(0,t.jsxs)("select",{name:"recordKeeping",value:e.recordKeeping,onChange:l,className:"input",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Do you keep digital records?"}),(0,t.jsx)("option",{children:"Yes"}),(0,t.jsx)("option",{children:"No"})]}),(0,t.jsxs)("select",{name:"insuranceProducts",value:e.insuranceProducts,onChange:l,className:"input",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Insurance Product"}),(0,t.jsx)("option",{children:"Livestock Cover"}),(0,t.jsx)("option",{children:"Market Guard"}),(0,t.jsx)("option",{children:"Farm Equipment Cover"}),(0,t.jsx)("option",{children:"AgriHealth Plus"}),(0,t.jsx)("option",{children:"Farm Loan Protection"})]}),(0,t.jsx)("input",{name:"monthlyIncome",value:e.monthlyIncome,onChange:l,placeholder:"Monthly Income",className:"input"}),(0,t.jsx)("textarea",{name:"additionalNotes",value:e.additionalNotes,onChange:l,placeholder:"Additional Notes",className:"input"}),(0,t.jsx)("button",{type:"submit",className:"button",disabled:r,children:r?"Submitting...":"Submit"}),a&&(0,t.jsx)("p",{className:"error"===a.type?"text-red-500":"text-green-500",children:a.message})]})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=2716)}),_N_E=e.O()}]);