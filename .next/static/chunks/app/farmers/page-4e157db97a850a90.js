(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{4586:function(e,n,r){Promise.resolve().then(r.bind(r,9956))},9956:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return o}});var t=r(3827),a=r(4090);function o(){let[e,n]=(0,a.useState)({name:"",phone:"",email:"",county:"",region:"",gender:"",crops:"",livestock:"",acreage:"",recordKeeping:"",insuranceProducts:"",monthlyIncome:"",additionalNotes:""}),[r,o]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),l=r=>{n({...e,[r.target.name]:r.target.value})},c=async r=>{r.preventDefault(),i(!0),o("");try{let r={...e,crops:e.crops.split(",").map(e=>e.trim()),livestock:e.livestock.split(",").map(e=>e.trim())},t=await fetch("/api/farmers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await t.json();t.ok?(o("✅ Farmer registered successfully!"),n({name:"",phone:"",email:"",county:"",region:"",gender:"",crops:"",livestock:"",acreage:"",recordKeeping:"",insuranceProducts:"",monthlyIncome:"",additionalNotes:""})):o("❌ "+(a.error||"Something went wrong!"))}catch(e){console.error("Error submitting form:",e),o("❌ Failed to submit. Please try again.")}finally{i(!1)}};return(0,t.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"2rem"},children:[(0,t.jsx)("h2",{children:"Register a Farmer"}),(0,t.jsxs)("form",{onSubmit:c,children:[(0,t.jsx)("input",{name:"name",type:"text",placeholder:"Full Name",value:e.name,onChange:l,required:!0}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"phone",type:"tel",placeholder:"+254 7xx xxx xxx",value:e.phone,onChange:l,required:!0}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"email",type:"email",placeholder:"Email Address",value:e.email,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"county",type:"text",placeholder:"County",value:e.county,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"region",type:"text",placeholder:"Region",value:e.region,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsxs)("select",{name:"gender",value:e.gender,onChange:l,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Gender"}),(0,t.jsx)("option",{value:"Male",children:"Male"}),(0,t.jsx)("option",{value:"Female",children:"Female"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"crops",type:"text",placeholder:"What crops do you grow? (comma separated)",value:e.crops,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"livestock",type:"text",placeholder:"What livestock do you keep? (comma separated)",value:e.livestock,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"acreage",type:"text",placeholder:"Farm Size (in acres)",value:e.acreage,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsxs)("select",{name:"recordKeeping",value:e.recordKeeping,onChange:l,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Do you keep digital farm records?"}),(0,t.jsx)("option",{value:"Yes",children:"Yes"}),(0,t.jsx)("option",{value:"No",children:"No"})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsxs)("select",{name:"insuranceProducts",value:e.insuranceProducts,onChange:l,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Insurance Product"}),(0,t.jsx)("option",{value:"Livestock Cover",children:"Livestock Cover"}),(0,t.jsx)("option",{value:"Market Guard",children:"Market Guard"}),(0,t.jsx)("option",{value:"Farm Equipment Cover",children:"Farm Equipment Cover"}),(0,t.jsx)("option",{value:"AgriHealth Plus",children:"AgriHealth Plus"}),(0,t.jsx)("option",{value:"Farm Loan Protection",children:"Farm Loan Protection"})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("input",{name:"monthlyIncome",type:"text",placeholder:"Average Monthly Income (KES)",value:e.monthlyIncome,onChange:l}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("textarea",{name:"additionalNotes",placeholder:"Any additional info or comments",value:e.additionalNotes,onChange:l,rows:"4"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{type:"submit",disabled:s,children:s?"Submitting...":"Submit"})]}),r&&(0,t.jsx)("p",{style:{marginTop:"20px",color:r.startsWith("✅")?"green":"red"},children:r})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4586)}),_N_E=e.O()}]);